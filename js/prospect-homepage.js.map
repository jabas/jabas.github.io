{"version":3,"sources":["banner.js","ci.js","header.js","unit.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"prospect-homepage.js","sourcesContent":["(function() {\n\t// dom elements\n\tvar banner = document.getElementById('mainBanner');\n\tvar video = document.getElementById('videoLoop');\n\tvar source = document.getElementById('mp4Video');\n\tvar logoAnimation = document.getElementById('logoIn');\n\tvar logoFadeOut = document.getElementById('logoOut');\n\tvar isLogoFaded = false;\n\tvar navLogo = document.getElementById('headerLogo');\n\tvar headingEl = document.getElementById('bannerHeading');\n\tvar moveEl = document.getElementById('bannerMove');\n\tvar connectEl = document.getElementById('bannerConnect');\n\tvar liveEl = document.getElementById('bannerLive');\n\tvar workEl = document.getElementById('bannerWork');\n\tvar ctaEl = document.getElementById('bannerCta');\n\n\t// future dynamic vars\t\n\t\n\tvar isLandscape = window.innerWidth >= window.innerHeight;\n\n\t//set height based on browser chrome\n\tvar vh = window.innerHeight * 0.01;\n\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\tif (banner.innerHeight === undefined) {\n\t\tbanner.classList.add('force-banner-height');\n\t}\n\n\t// switch out video if landscape page\n\tif (isLandscape) {\n\t\tbanner.classList.add('banner-landscape');\n\t\tbanner.setAttribute('poster', '/images/prospect/lt-banner-landscape.jpg')\n\t\tsource.setAttribute('src', '/images/prospect/lt-banner-landscape.mp4');\n\t\tvideo.load();\n\t}\n\t\n\t// force video to play on touch if suspended\n\tfunction forceVidPlay() {\n\t\tvideo.play();\n\t}\n\n\tvideo.addEventListener('suspend', () => {\n\t\tdocument.body.addEventListener('click', forceVidPlay, { once: true });\n\t\tdocument.body.addEventListener('touchstart', forceVidPlay, { once: true });\n\t});\n \n \t// animation triggers\n \tfunction triggerTextAnim() {\n\t\tvar time = video.currentTime;\n\t\tconsole.log(time);\n\n\t\tif (banner.classList.contains('banner-frozen')) { // assigned in header.js\n\t\t\tvideo.currentTime = 7.0;\n\t\t\tvideo.pause();\n\t\t}\n\n\t\tif (time >= 5.80 && !isLogoFaded) {\n\t\t\tlogoFadeOut.beginElement();\n\t\t\tisLogoFaded = true;\n\t\t} else if ( time >= 7.0 && !headingEl.classList.contains('head-animate-in') ) {\n\t\t\tnavLogo.classList.add('header-logo-show');\n\t\t\theadingEl.classList.add('head-animate-in');\n\t\t\tmoveEl.classList.add('span-animate-in');\n\t\t} else if ( time >= 11.0 && !connectEl.classList.contains('span-animate-in') ) {\n\t\t\tconnectEl.classList.add('span-animate-in');\n\t\t\tmoveEl.classList.add('span-animate-hold');\n\t\t} else if (time >= 15.0 && !liveEl.classList.contains('span-animate-in') ) {\n\t\t\tliveEl.classList.add('span-animate-in');\n\t\t\tconnectEl.classList.add('span-animate-hold');\n\t\t} else if (time >= 19.0 && !workEl.classList.contains('span-animate-in') ) {\n\t\t\tworkEl.classList.add('span-animate-in');\n\t\t\tliveEl.classList.add('span-animate-hold');\n\t\t}\n\t}\n\n    video.addEventListener('play', () => {\n    \tvh = window.innerHeight * 0.01;\n    \tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\n    \tif (video.currentTime < 7.0) {\n    \t\tnavLogo.classList.remove('header-logo-show');\n    \t\tlogoAnimation.beginElement();\n    \t}\n    }, { once: true });\n    \n    video.addEventListener('timeupdate', triggerTextAnim);\n\t\n\tvideo.addEventListener('ended', () => {\n\t\theadingEl.classList.add('head-animate-grow');\n\t\tmoveEl.classList.remove('span-animate-hold');\n\t\tconnectEl.classList.remove('span-animate-hold');\n\t\tliveEl.classList.remove('span-animate-hold');\n\t\tctaEl.classList.add('banner-cta-animate');\n\t\tvideo.removeEventListener('timeupdate', triggerTextAnim);\n\t\tvideo.currentTime = 7.0;\n\t\tvideo.play();\n\t});\t\n})();","(function() {\n\tlet ordinal;\n\tconst anchors = document.querySelectorAll('.bubble-anchor');\n\tconst mosaic = document.querySelector('.mosaic');\n\tconst heading = document.querySelector('.ci-leadin');\n\tconst modalBg = document.createElement('div');\n\tconst closeBtn = document.getElementById(\"mosaicClose\");\n\n\tvar headingAnimOpts = {\n\t\troot: null,  // use the viewport\n\t\trootMargin: '-80px',\n\t\tthreshold: 0.02\n\t}\n\n\tfunction openMosaic(event) {\n\t\tevent.preventDefault();\n\t\tordinal = this.getAttribute('data-frame');\n\t\tconst target = document.querySelector('.frame-' + ordinal);\n\t\tconst vidWrap = document.querySelector('.video-' + ordinal);\n\t\tconst vidPlayer = document.querySelector('.video-' + ordinal + ' video');\n\t\tmosaic.classList.add('selected-' + ordinal, 'selection-active');\n\t\ttarget.classList.add('frame-selected');\n\n\t\tif (this.hasAttribute('data-is-mobile')) {\n\t\t\tvidWrap.classList.add('video-active');\n\t\t\tvidPlayer.play();\n\t\t\tvidPlayer.addEventListener('ended', closeMosaic);\n\t\t\taddBackdrop('body');\n\t\t} else {\n\t\t\ttarget.addEventListener('transitionend', () => {\n\t\t\t\tvidWrap.classList.add('video-active');\n\t\t\t\tvidPlayer.play();\n\t\t\t\tvidPlayer.addEventListener('ended', closeMosaic);\n\t\t\t}, {once: true});\n\n\t\t\tswitch (ordinal) {\n\t\t\t\tcase 'northwest':\n\t\t\t\t\t// nw has no play change\n\t\t\t\t\tdocument.getElementById('nAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('swAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('sAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('seAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'north':\n\t\t\t\t\tdocument.getElementById('nAnimPlay').beginElement();\n\t\t\t\t\tdocument.getElementById('nwAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('swAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('sAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('seAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\t// center has no play or hide change\n\t\t\t\t\tdocument.getElementById('nwAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('nAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('swAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('sAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('seAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'southeast':\n\t\t\t\t\tdocument.getElementById('seAnimPlay').beginElement();\n\t\t\t\t\tdocument.getElementById('nwAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('nAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('swAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('sAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'south':\n\t\t\t\t\tdocument.getElementById('sAnimPlay').beginElement();\n\t\t\t\t\tdocument.getElementById('nwAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('nAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('swAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('seAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'southwest':\n\t\t\t\t\t// sw has no play state\n\t\t\t\t\tdocument.getElementById('nwAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('nAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('sAnimHide').beginElement();\n\t\t\t\t\tdocument.getElementById('seAnimHide').beginElement();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\taddBackdrop('mosaic');\n\t\t}\n\t\t\n\t}\n\n\tfunction closeMosaic() {\n\t\tvar currentFrame = document.querySelector('.frame-selected');\n\t\tvar currentVidWrap = document.querySelector('.video-active');\n\t\tvar currentVid = document.querySelector('.video-' + ordinal + ' video');\n\t\tcurrentFrame.style.zIndex = 1050;\n\t\tcurrentFrame.classList.remove('frame-selected');\n\t\tcurrentVidWrap.classList.remove('video-active');\n\t\tcurrentVid.pause();\n\t\tcurrentVid.removeEventListener('ended', closeMosaic);\n\t\tmosaic.classList.remove('selected-' + ordinal, 'selection-active');\n\t\t\n\t\tswitch (ordinal) {\n\t\t\tcase 'northwest':\n\t\t\t\t// nw has no play change\n\t\t\t\tdocument.getElementById('nAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('swAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('sAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('seAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t\tcase 'north':\n\t\t\t\tdocument.getElementById('nAnimPlayReturn').beginElement();\n\t\t\t\tdocument.getElementById('nwAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('swAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('sAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('seAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t\tcase 'center':\n\t\t\t\t// center has no play or hide change\n\t\t\t\tdocument.getElementById('nwAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('nAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('swAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('sAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('seAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t\tcase 'southeast':\n\t\t\t\tdocument.getElementById('seAnimPlayReturn').beginElement();\n\t\t\t\tdocument.getElementById('nwAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('nAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('swAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('sAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t\tcase 'south':\n\t\t\t\tdocument.getElementById('sAnimPlayReturn').beginElement();\n\t\t\t\tdocument.getElementById('nwAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('nAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('swAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('seAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t\tcase 'southwest':\n\t\t\t\t// sw has no play state\n\t\t\t\tdocument.getElementById('nwAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('nAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('sAnimHideReturn').beginElement();\n\t\t\t\tdocument.getElementById('seAnimHideReturn').beginElement();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tmosaic.classList.remove('selection-active');\n\t\tremoveBackdrop();\n\t}\n\n\tfunction addBackdrop(location) {\n\t\tif (location === 'body') {\n\t\t\tdocument.body.appendChild(modalBg);\n\t\t} else {\n\t\t\tmosaic.appendChild(modalBg);\n\t\t}\n\t\tmodalBg.offsetHeight; // force repaint\n\t\tmodalBg.classList.add('show');\n\t}\n\n\tfunction removeBackdrop() {\n\t\tmodalBg.classList.remove('show');\n\t\tsetTimeout(function(){\n\t\t\tmodalBg.parentElement.removeChild(modalBg);\n\t\t}, 1000);\n\t}\n\n\tfunction headingAnimation(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tentry.target.classList.add('ci-leadin-animate-in');\n\t\t\t}\n\t\t});\n\t}\n\n\tvar headingAnimationObserver = new IntersectionObserver(headingAnimation, headingAnimOpts);\n\theadingAnimationObserver.observe(heading);\n\n\n\tfor (let i = 0; i < anchors.length; i++) {\n\t\tanchors[i].addEventListener('click', openMosaic);\n\t}\n\n\tmodalBg.classList.add('modal-backdrop', 'fade');\n\tmodalBg.addEventListener('click', closeMosaic);\n\tcloseBtn.addEventListener('click', closeMosaic);\n})();","(function() {\n\tfunction beganScroll(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tbanner.classList.remove('banner-frozen');\n\t\t\t\tvideo.play();\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tbanner.classList.add('banner-frozen');\n\t\t\t\tif (mainHeading.classList.contains('head-animate-grow')) {\n\t\t\t\t\tvideo.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction exitedBanner(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\theader.classList.remove('filled');\n\t\t\t\theader.classList.remove('header-mini');\n\t\t\t} else {\n\t\t\t\theader.classList.add('filled');\n\t\t\t\theader.classList.add('header-mini');\n\t\t\t}\n\t\t});\n\t}\n\n\tvar header = document.querySelector('#headerNav');\n\tvar banner = document.querySelector('#mainBanner');\n\tvar ciElem = document.querySelector('#companiesInside');\n\tvar mainHeading = document.getElementById('bannerHeading');\n\tvar video = document.getElementById('videoLoop');\n\n\tvar beganScrollOpts = {\n\t\troot: null,\n\t\trootMargin: '-80px',\n\t\tthreshold: [0, 0.5, 0.75, 1]\n\t}\n\n\tvar exitedBannerOpts = {\n\t\troot: null,\n\t\trootMargin: '0px',\n\t\tthreshold: 0.85\n\t}\n\n\tvar beganScrollObserver = new IntersectionObserver(beganScroll, beganScrollOpts);\n\tvar exitedBannerObserver = new IntersectionObserver(exitedBanner, exitedBannerOpts);\n\n\tif (banner) {\n\t\tbeganScrollObserver.observe(banner);\n\t}\n\n\tif (ciElem) {\n\t\texitedBannerObserver.observe(banner);\n\t}\n})();","(function() {\n\tvar enteredZoneOpts = {\n\t\troot: null,  // use the viewport\n\t\trootMargin: '0px',\n\t\tthreshold: 0.30\n\t}\n\n\tvar unitAnimOpts = {\n\t\troot: null,  // use the viewport\n\t\trootMargin: '-40px',\n\t\tthreshold: 0.02\n\t}\n\n\tfunction enteredZone(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tunitsEl.classList.add('zone-active');\n\t\t\t} else {\n\t\t\t\tunitsEl.classList.remove('zone-active');\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction unitAnimation(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tentry.target.classList.add('unit-animate-in');\n\t\t\t}\n\t\t});\n\t}\n\n\tvar unitsEl = document.querySelector('#businessUnits');\n\tvar contentEls = document.querySelectorAll('.unit-animated');\n\n\tvar enteredZoneObserver = new IntersectionObserver(enteredZone, enteredZoneOpts);\n\tvar unitAnimationObserver = new IntersectionObserver(unitAnimation, unitAnimOpts);\n\n\tenteredZoneObserver.observe(unitsEl);\n\n\tcontentEls.forEach((item) => {\n\t\tif (item) {\n\t\t\tunitAnimationObserver.observe(item);\n\t\t}\n\t});\n})();"]}