{"version":3,"sources":["header-dropdown.js","mobile-nav-toggle.js","overflow-navbar.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"core4-ui-system.js","sourcesContent":["(function() {\n\n\tconst dropdownElementList = [].slice.call(document.querySelectorAll('.lt-header .dropdown .dropdown-toggle'));\n\tconst dropdownList = dropdownElementList.map(function (dropdownToggleEl) {\n\t\treturn new bootstrap.Dropdown(dropdownToggleEl, {\n\t\t\tpopperConfig: function (defaultBsPopperConfig) {\n\t\t\t\tlet newPopperConfig = defaultBsPopperConfig;\n\t\t\t\tif (defaultBsPopperConfig.placement === 'bottom-start') {\n\t\t\t\t\tnewPopperConfig.placement = 'bottom';\n\t\t\t\t}\n\t\t\t\treturn newPopperConfig\n\t\t\t}\n\t\t});\n\t});\n\t\n})();","(function() {\n\tconst mobileNav = document.getElementById('headerNav');\n\tconst mobileNavToggle = document.getElementById('navToggle');\n\n\tmobileNav.addEventListener('show.bs.offcanvas', function (event) {\n\t\tmobileNavToggle.classList.add('navbar-toggler-open');\n\t});\n\n\tmobileNav.addEventListener('hide.bs.offcanvas', function (event) {\n\t\tmobileNavToggle.classList.remove('navbar-toggler-open');\n\t});\n})();","(function() {\n\n\tfunction getNav(navbar) {\n\t\treturn document.querySelector(navbar.dataset.ltNavbarOverflow);\n\t}\n\n\tfunction initOverflow(navbar) {\n\t\tconst nav = getNav(navbar);\n\n\t\tif (nav && !navbar.classList.contains('lt-navbar-overflow')) {\n\t\t\tnavbar.classList.add('lt-navbar-overflow');\n\t\t\taddOverflow(navbar);\n\t\t\tevalItemPlacement(navbar);\n\t\t}\n\t}\n\n\tfunction addOverflow(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst overflow = document.createElement('li');\n\t\tconst dropdown = document.createElement('div');\n\n\t\toverflow.classList.add('nav-item', 'dropdown', 'd-none');\n\t\toverflow.innerHTML = '<a href=\"#\" class=\"nav-link dropdown-toggle\" data-bs-toggle=\"dropdown\" data-bs-offset=\"-2,0\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">More</a>';\n\t\tdropdown.classList.add('dropdown-menu', 'dropdown-menu-end');\n\t\tdropdown.innerHTML = '<ul class=\"list-unstyled\"></ul>';\n\t\t\n\t\tnav.appendChild(overflow);\n\t\toverflow.appendChild(dropdown);\n\t}\n\n\tfunction evalRemainingSpace(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst children = nav.children;\n\t\tlet last = children[children.length-1];\n\t\tlet space = 0;\n\n\t\tif (last.classList.contains('d-none')) {\n\t\t\tlast = children[children.length-2];\n\t\t}\n\n\t\tif (last) {\n\t\t\tspace = navbar.clientWidth - (last.offsetLeft + last.offsetWidth);\n\t\t}\n\t\treturn space;\n\t}\n\n\tfunction evalItemPlacement(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst remain = evalRemainingSpace(navbar);\n\t\tconst overflow = nav.lastChild;\n\t\tconst overList = overflow.querySelector('.list-unstyled');\n\t\tconst overLength = overList.children.length;\n\n\t\tif (remain < 0) {\n\t\t\tremoveItems(navbar);\n\t\t} else if (overLength > 0) {\n\n\t\t\tconst first = overList.firstChild;\n\t\t\tconst returnSize = parseInt(first.dataset.returnSize);\n\t\t\tconst overflowSize = overflow.offsetWidth;\n\n\t\t\tif (remain > returnSize || (overLength === 1 && remain + overflowSize > returnSize)) {\n\t\t\t\treturnItems(navbar);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction removeItems(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst oddman = nav.children[nav.children.length-2];\n\t\tconst overflow = nav.lastChild;\n\t\tconst overList = overflow.querySelector('.list-unstyled');\n\n\t\toddman.dataset.returnSize = oddman.offsetWidth;\n\t\toddman.classList.remove('nav-item');\n\n\t\toverList.insertBefore(oddman, overList.firstChild);\n\t\t\n\t\toddman.firstChild.classList.remove('nav-link');\n\t\toddman.firstChild.classList.add('dropdown-item');\n\t\toverflow.classList.remove('d-none');\n\n\t\t// continue until spacing is available\n\t\tif (evalRemainingSpace(navbar) < 0) {\n\t\t\tremoveItems(navbar);\n\t\t}\n\t}\n \n\tfunction returnItem(nav, overflow, overList) {\n\t\tconst oddman = overList.firstChild;\n\t\tconst oddmanLink = oddman.firstChild;\n\n\t\toddmanLink.classList.remove('dropdown-item');\n\t\toddmanLink.classList.add('nav-link');\n\t\toddman.classList.add('nav-item');\n\t\tnav.insertBefore(oddman, overflow);\n\t}\n\n\tfunction returnItems(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst overflow = nav.lastChild;\n\t\tconst overList = overflow.querySelector('.list-unstyled');\n\n\t\treturnItem(nav, overflow, overList);\n\n\t\tif (overList.children.length === 0) {\n\t\t\toverflow.classList.add('d-none');\n\t\t} else {\n\t\t\twhile( evalRemainingSpace(navbar) > parseInt(overList.firstChild.dataset.returnSize) ) {\n\t\t\t\tevalItemPlacement(navbar);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction emptyOverflow(navbar) {\n\t\tconst nav = getNav(navbar);\n\t\tconst overflow = nav.lastChild;\n\t\tconst overList = overflow.querySelector('.list-unstyled');\n\n\t\twhile (overList.children.length > 0) {\n\t\t\treturnItem(nav, overflow, overList);\n\t\t}\n\n\t}\n\n\t// initalize existing overflow navs\n\tlet navbars = document.querySelectorAll('[data-lt-navbar-overflow]');\n\n\tfor (let i = 0; i < navbars.length; i++) {\n\t\tinitOverflow(navbars[i]);\t\t\n\t}\n\n\t// listen for navs added after page load\n\n\t// adjust initalized navs on resize\n\tlet timeout;\n\n\twindow.addEventListener('resize', function ( event ) {\n\t\tif (timeout) {\n\t\t\twindow.cancelAnimationFrame(timeout);\n\t\t}\n\n\t\ttimeout = window.requestAnimationFrame(function () {\n\t\t\tconst navbars = document.querySelectorAll('.lt-navbar-overflow');\n\n\t\t\tfor (let i = 0; i < navbars.length; i++) {\n\t\t\t\tconst display = window.getComputedStyle(navbars[i]).display;\n\t\t\t\t\n\t\t\t\tif(display !== 'flex') {\n\t\t\t\t\temptyOverflow(navbars[i]);\n\t\t\t\t} else {\n\t\t\t\t\tevalItemPlacement(navbars[i]);\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t});\n\n\t}, false);\n})();\n"]}